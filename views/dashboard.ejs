<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mock Quiz - Dashboard</title>
    <link rel="stylesheet" href="/css/profile.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Layout Container -->
    <div class="dashboard-layout">
        <!-- User Profile Header -->
        <div class="profile-header">
            <div class="profile-info">
                <img src="<%= user.avatar_url || '/images/avatar.jpg' %>" alt="Profile" class="profile-avatar">
                <div class="user-details">
                    <h2><%= user.full_name %></h2>
                    <p>Student Dashboard</p>
                </div>
            </div>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </button>
        </div>

        <!-- Dashboard Welcome -->
        <div class="dashboard-welcome">
            <h1>Welcome Back!</h1>
            <p>Here's your learning progress at a glance</p>
        </div>

        <!-- Dashboard Cards Grid -->
        <div class="dashboard-cards">
            <!-- Quick Stats Card -->
            <div class="dashboard-card stats-card">
                <div class="card-header">
                    <i class="fas fa-chart-line"></i>
                    <h3>Your Progress</h3>
                </div>
                <div class="stats-summary">
                    <div class="stat-item">
                        <span class="stat-number"><%= stats.totalQuizzes %></span>
                        <span class="stat-label">Quizzes Completed</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number"><%= stats.averageScore %>%</span>
                        <span class="stat-label">Average Score</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number"><%= stats.streak %></span>
                        <span class="stat-label">Day Streak</span>
                    </div>
                </div>
            </div>

            <!-- Dashboard Navigation Card -->
            <div class="dashboard-card nav-card">
                <div class="card-header">
                    <i class="fas fa-tachometer-alt"></i>
                    <h3>Dashboard</h3>
                </div>
                <p>Main overview of your learning journey</p>
                <a href="/dashboard" class="card-button current">
                    <i class="fas fa-eye"></i>
                    You are here
                </a>
            </div>

            <!-- Recent Attempts Card -->
            <div class="dashboard-card nav-card">
                <div class="card-header">
                    <i class="fas fa-history"></i>
                    <h3>Recent Attempts</h3>
                </div>
                <p>View your latest quiz attempts and results</p>
                <a href="/recent-attempts" class="card-button">
                    <i class="fas fa-arrow-right"></i>
                    View Attempts
                </a>
            </div>

            <!-- Module Progress Card -->
            <div class="dashboard-card nav-card">
                <div class="card-header">
                    <i class="fas fa-book"></i>
                    <h3>Module Progress</h3>
                </div>
                <p>Track progress across all course modules</p>
                <a href="/modules" class="card-button">
                    <i class="fas fa-arrow-right"></i>
                    View Modules
                </a>
            </div>

            <!-- Analytics Card -->
            <div class="dashboard-card nav-card">
                <div class="card-header">
                    <i class="fas fa-chart-bar"></i>
                    <h3>Analytics</h3>
                </div>
                <p>Detailed performance insights and statistics</p>
                <a href="/analytics" class="card-button">
                    <i class="fas fa-arrow-right"></i>
                    View Analytics
                </a>
            </div>

            <!-- Quick Actions Card -->
            <div class="dashboard-card actions-card">
                <div class="card-header">
                    <i class="fas fa-rocket"></i>
                    <h3>Quick Actions</h3>
                </div>
                <div class="quick-actions-grid">
                    <button class="quick-action" onclick="startQuiz()">
                        <i class="fas fa-play"></i>
                        <span>Start Quiz</span>
                    </button>
                    <button class="quick-action" onclick="reviewMistakes()">
                        <i class="fas fa-search"></i>
                        <span>Review Errors</span>
                    </button>
                    <button class="quick-action" onclick="viewProgress()">
                        <i class="fas fa-chart-line"></i>
                        <span>View Progress</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function logout() {
            window.location.href = '/logout';
        }

        function startQuiz() {
            window.location.href = '/quiz/start';
        }

        function reviewMistakes() {
            window.location.href = '/review/mistakes';
        }

        function viewProgress() {
            window.location.href = '/modules';
        }
    </script>
</body>
</html>